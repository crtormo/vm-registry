# ğŸ—ºï¸ Arquitectura del Homelab

> Diagrama visual de la infraestructura y relaciones entre servicios  
> **Ãšltima actualizaciÃ³n**: 2025-12-25

---

## ğŸŒ Mapa de Red

```
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚    INTERNET     â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚  Router/Modem   â”‚
                                    â”‚ 192.168.100.1   â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                    â•‘              RED LOCAL 192.168.100.0/24          â•‘
                    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                                             â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                                   â”‚                                   â”‚
         â–¼                                   â–¼                                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¡ AdGuard     â”‚               â”‚  ğŸ–¥ï¸ PROXMOX     â”‚               â”‚  ğŸ’¾ NAS         â”‚
â”‚  .100.113       â”‚â—„â”€â”€DNSâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  .100.159       â”‚â”€â”€â”€â”€â”€â”€â”€NFSâ”€â”€â”€â”€â–ºâ”‚  Synology       â”‚
â”‚  (LXC 103)      â”‚               â”‚  (Hypervisor)   â”‚               â”‚  12.6TB         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚                    â”‚                    â”‚
                      â–¼                    â–¼                    â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  ğŸ  Home     â”‚     â”‚  ğŸ³ Docker   â”‚     â”‚  ğŸ§ª Gemini   â”‚
              â”‚  Assistant   â”‚     â”‚  VM 115 â­   â”‚     â”‚  Test        â”‚
              â”‚  VM 111      â”‚     â”‚  .100.209    â”‚     â”‚  VM 200      â”‚
              â”‚  4GB | 2CPU  â”‚     â”‚  16GB | 6CPU â”‚     â”‚  16GB | 4CPU â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                          â”‚
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚                    â”‚                    â”‚
                     â–¼                    â–¼                    â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚ ğŸ“š MedFlix  â”‚      â”‚ ğŸ‘¤ LifeCRM  â”‚      â”‚ ğŸ¬ Media    â”‚
             â”‚ Papers med  â”‚      â”‚ CRM personalâ”‚      â”‚ Sonarr/etc  â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ–¥ï¸ Detalle por Capa

### Capa 1: Hypervisor

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           PROXMOX VE 9.1.2 (pve)                                   â•‘
â•‘                           192.168.100.159:8006                                     â•‘
â•‘                           Intel i7-9700K | 32GB RAM                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                                    â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘  â”‚                           STORAGE                                           â”‚  â•‘
â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â•‘
â•‘  â”‚ ğŸ’¾ local-zfs     â”‚ ğŸ’¾ Disco-HD      â”‚ ğŸ“ NAS-synology  â”‚ ğŸ”’ PBS-NAS       â”‚  â•‘
â•‘  â”‚ NVMe SSD 357GB   â”‚ HDD 916GB        â”‚ NFS 12.6TB       â”‚ Backups 328GB    â”‚  â•‘
â•‘  â”‚ VMs rÃ¡pidas      â”‚ VMs/Datos        â”‚ Media/Archivos   â”‚ PBS Server       â”‚  â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                                                                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### Capa 2: MÃ¡quinas Virtuales

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                MÃQUINAS VIRTUALES                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        â”‚                        â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ  VM 111        â”‚  â”‚  â”‚ ğŸ³ VM 115 â­     â”‚  â”‚  â”‚ ğŸ§ª VM 200                    â”‚  â”‚
â”‚  â”‚ home-assistant   â”‚  â”‚  â”‚ Docker           â”‚  â”‚  â”‚ gemini-test                  â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ RAM: 4GB         â”‚  â”‚  â”‚ RAM: 16GB        â”‚  â”‚  â”‚ RAM: 16GB                    â”‚  â”‚
â”‚  â”‚ CPU: 2 cores     â”‚  â”‚  â”‚ CPU: 6 cores     â”‚  â”‚  â”‚ CPU: 4 cores                 â”‚  â”‚
â”‚  â”‚ Disco: 32GB      â”‚  â”‚  â”‚ Disco: 100GB SSD â”‚  â”‚  â”‚ Disco: 100GB HDD             â”‚  â”‚
â”‚  â”‚ IP: DHCP         â”‚  â”‚  â”‚ IP: .100.209     â”‚  â”‚  â”‚ IP: DHCP                     â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸ“± DomÃ³tica      â”‚  â”‚  â”‚ ğŸ¤– Antigravity   â”‚  â”‚  â”‚ ğŸ”¬ Testing                   â”‚  â”‚
â”‚  â”‚ - Zigbee         â”‚  â”‚  â”‚ ğŸ“š MedFlix       â”‚  â”‚  â”‚ - Desarrollo                 â”‚  â”‚
â”‚  â”‚ - Z-Wave         â”‚  â”‚  â”‚ ğŸ‘¤ LifeCRM       â”‚  â”‚  â”‚ - Experimentos               â”‚  â”‚
â”‚  â”‚ - Automations    â”‚  â”‚  â”‚ ğŸ¬ Media Stack   â”‚  â”‚  â”‚                              â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚  â”‚ ğŸ’¬ WhatsApp API  â”‚  â”‚  â”‚                              â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚  â”‚ ğŸ”§ n8n           â”‚  â”‚  â”‚                              â”‚  â”‚
â”‚  â”‚                  â”‚  â”‚  â”‚ ğŸ® Minecraft     â”‚  â”‚  â”‚                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                        â”‚                        â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Capa 3: Contenedores LXC

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              CONTENEDORES LXC                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 â”‚                 â”‚                 â”‚                 â”‚              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ”’ LXC 101  â”‚ â”‚ â”‚ ğŸ” LXC 102  â”‚ â”‚ â”‚ ğŸ›¡ï¸ LXC 103  â”‚ â”‚ â”‚ ğŸ¬ LXC 105  â”‚ â”‚â”‚ ğŸŒ LXC 106 â”‚â”‚
â”‚ â”‚ PBS Server  â”‚ â”‚ â”‚ Patchmon    â”‚ â”‚ â”‚ AdGuard     â”‚ â”‚ â”‚ Jellyseerr  â”‚ â”‚â”‚ NPMplus    â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚ .100.232    â”‚ â”‚ â”‚ .100.228    â”‚ â”‚ â”‚ .100.113    â”‚ â”‚ â”‚ .100.226    â”‚ â”‚â”‚ .100.220   â”‚â”‚
â”‚ â”‚ 2GB | 2CPU  â”‚ â”‚ â”‚ 2GB | 2CPU  â”‚ â”‚ â”‚ 512MB| 1CPU â”‚ â”‚ â”‚ 4GB | 4CPU  â”‚ â”‚â”‚ 512MB|1CPU â”‚â”‚
â”‚ â”‚ :8007       â”‚ â”‚ â”‚             â”‚ â”‚ â”‚ :53 :80     â”‚ â”‚ â”‚ :5055       â”‚ â”‚â”‚ :80 :443   â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚ Backups     â”‚ â”‚ â”‚ Monitoreo   â”‚ â”‚ â”‚ DNS Server  â”‚ â”‚ â”‚ Solicitudes â”‚ â”‚â”‚Rev. Proxy  â”‚â”‚
â”‚ â”‚ Restore     â”‚ â”‚ â”‚ Parches     â”‚ â”‚ â”‚ Ad Blocking â”‚ â”‚ â”‚ PelÃ­culas   â”‚ â”‚â”‚ SSL Certs  â”‚â”‚
â”‚ â”‚ Snapshots   â”‚ â”‚ â”‚ Seguridad   â”‚ â”‚ â”‚ Toda la red â”‚ â”‚ â”‚ Series      â”‚ â”‚â”‚ Routing    â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                 â”‚                 â”‚                 â”‚                 â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ ğŸ”´ LXC 100  â”‚
        â”‚ Jellyfin    â”‚  â† DETENIDO (migrado a Docker?)
        â”‚ (stopped)   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”— Flujo de Servicios

### ğŸ¬ Media Stack

```
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ ğŸ‘¤ Usuario      â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ ğŸŒ NPMplus      â”‚
                                    â”‚ LXC 106         â”‚
                                    â”‚ Reverse Proxy   â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                              â”‚                              â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ ğŸ¬ Jellyseerr   â”‚           â”‚ ğŸ“º Sonarr       â”‚           â”‚ ğŸ¥ Radarr       â”‚
     â”‚ LXC 105         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Docker VM 115   â”‚           â”‚ Docker VM 115   â”‚
     â”‚ Solicitudes     â”‚           â”‚ Series          â”‚           â”‚ PelÃ­culas       â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚                             â”‚
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
                                   â”‚ ğŸ” Prowlarr     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚ Docker VM 115   â”‚
                                   â”‚ Indexadores     â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ â¬‡ï¸ qBittorrent  â”‚
                                   â”‚ Docker VM 115   â”‚
                                   â”‚ Descargas       â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                            â”‚
                                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                                   â”‚ ğŸ’¾ NAS Synology â”‚
                                   â”‚ Almacenamiento  â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ¥ Stack MÃ©dico/Desarrollo

```
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ ğŸ“± Telegram     â”‚        â”‚ ğŸ’¬ WhatsApp     â”‚        â”‚ ğŸŒ Web UI       â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                          â”‚                          â”‚
              â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
              â”‚                 â”‚ ğŸ“¡ Evolution    â”‚                 â”‚
              â”‚                 â”‚ API             â”‚                 â”‚
              â”‚                 â”‚ Docker VM 115   â”‚                 â”‚
              â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
              â”‚                          â”‚                          â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ ğŸ¤– MedFlix Bot  â”‚        â”‚ ğŸ”§ n8n          â”‚        â”‚ ğŸ“š MedFlix UI   â”‚
     â”‚ Telegram        â”‚        â”‚ Workflows       â”‚        â”‚ React           â”‚
     â”‚ Ingestor        â”‚        â”‚ AutomaciÃ³n      â”‚        â”‚ Frontend        â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                          â”‚                          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚ ğŸ“Š MedFlix API  â”‚
                                â”‚ FastAPI         â”‚
                                â”‚ Backend         â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚
                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                                â”‚ ğŸ—„ï¸ PostgreSQL   â”‚
                                â”‚ Base de Datos   â”‚
                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ”’ Infraestructura y Seguridad

```
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ ğŸŒ Internet     â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                             â”‚
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚ ğŸ”Œ Router       â”‚
                                    â”‚ DNS: AdGuard    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
                                             â”‚                               â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
                    â”‚                        â”‚                        â”‚      â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”´â”€â”
           â”‚ ğŸ›¡ï¸ AdGuard     â”‚      â”‚ ğŸ”— Tailscale    â”‚      â”‚ ğŸŒ NPMplus      â”‚
           â”‚ LXC 103         â”‚      â”‚ Docker VM 115   â”‚      â”‚ LXC 106         â”‚
           â”‚ DNS Filtering   â”‚      â”‚ VPN Mesh        â”‚      â”‚ Reverse Proxy   â”‚
           â”‚ .100.113:53     â”‚      â”‚ Acceso Remoto   â”‚      â”‚ SSL Wildcard    â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â”‚ (Toda consulta DNS pasa por AdGuard)
                    â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ ğŸ”’ PBS Server   â”‚
           â”‚ LXC 101         â”‚
           â”‚ .100.232:8007   â”‚
           â”‚ Backups diarios â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚ ğŸ’¾ PBS-NAS      â”‚
           â”‚ Storage remoto  â”‚
           â”‚ RetenciÃ³n       â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Tabla de IPs y Puertos

| Servicio | Tipo | IP | Puerto | URL |
|----------|------|-----|--------|-----|
| Proxmox VE | Host | 192.168.100.159 | 8006 | https://192.168.100.159:8006 |
| Docker VM | VM | 192.168.100.209 | 22 | ssh://192.168.100.209 |
| PBS Server | LXC | 192.168.100.232 | 8007 | https://192.168.100.232:8007 |
| AdGuard | LXC | 192.168.100.113 | 53, 80 | http://192.168.100.113 |
| NPMplus | LXC | 192.168.100.220 | 80, 443 | http://192.168.100.220 |
| Jellyseerr | LXC | 192.168.100.226 | 5055 | http://192.168.100.226:5055 |
| Patchmon | LXC | 192.168.100.228 | 22 | ssh://192.168.100.228 |

---

## ğŸ”„ Dependencias CrÃ­ticas

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ORDEN DE ARRANQUE                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1ï¸âƒ£  Proxmox Host (pve)                                        â”‚
â”‚      â”‚                                                          â”‚
â”‚  2ï¸âƒ£  â”œâ”€â”€â–º LXC 103 AdGuard (DNS para toda la red)               â”‚
â”‚      â”‚                                                          â”‚
â”‚  3ï¸âƒ£  â”œâ”€â”€â–º LXC 106 NPMplus (Reverse Proxy)                      â”‚
â”‚      â”‚                                                          â”‚
â”‚  4ï¸âƒ£  â”œâ”€â”€â–º VM 115 Docker (Servicios principales)                â”‚
â”‚      â”‚    â”œâ”€â”€â–º PostgreSQL containers                           â”‚
â”‚      â”‚    â”œâ”€â”€â–º Redis containers                                 â”‚
â”‚      â”‚    â””â”€â”€â–º Application containers                          â”‚
â”‚      â”‚                                                          â”‚
â”‚  5ï¸âƒ£  â”œâ”€â”€â–º VM 111 Home Assistant                                â”‚
â”‚      â”‚                                                          â”‚
â”‚  6ï¸âƒ£  â”œâ”€â”€â–º LXC 101 PBS (puede arrancar despuÃ©s)                 â”‚
â”‚      â”‚                                                          â”‚
â”‚  7ï¸âƒ£  â””â”€â”€â–º Otros LXC (jellyseerr, patchmon)                     â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Notas de Arquitectura

1. **Single Point of Failure**: 
   - El servidor Proxmox es crÃ­tico - considerar UPS
   - AdGuard (DNS) - si cae, la red pierde resoluciÃ³n

2. **Escalabilidad**:
   - RAM al lÃ­mite con overcommit (36GB asignados / 32GB fÃ­sicos)
   - Disco NVMe al 46% - aÃºn hay espacio

3. **Backups**:
   - PBS configurado con storage en NAS
   - Verificar polÃ­tica de retenciÃ³n

4. **Mejoras sugeridas**:
   - [ ] Configurar alertas de Proxmox
   - [ ] Documentar procedimiento de DR
   - [ ] Revisar reglas de firewall
